syntax = "proto3";

package broadcast;

message HpMpUpdate {
  int32 currentHp = 1;
  int32 maxHp = 2;
  int32 currentMp = 3;
  int32 maxMp = 4;
}

message CharacterLevelUpdate {
  int32 level = 1;
  int64 expRequired = 2;
  int32 spExpRequired = 3;
}

message CharacterExperienceUpdate {
  uint64 experience = 1;
}

message CharacterSpUpdate {
  uint32 skillPoints = 1;
  uint32 currentSpExperience = 2;
}

message CharacterNameUpdate {
  string name = 1;
}

enum GoldLocation {
  kInventory = 0;
  kStorage = 1;
  kGuildStorage = 2;
}

message GoldAmountUpdate {
  uint64 goldAmount = 1;
  GoldLocation goldLocation = 2;
}

message BroadcastMessage {
  oneof body {
    HpMpUpdate hpMpUpdate = 1;
    CharacterLevelUpdate characterLevelUpdate = 2;
    CharacterExperienceUpdate characterExperienceUpdate = 3;
    CharacterSpUpdate characterSpUpdate = 4;
    CharacterNameUpdate characterNameUpdate = 5;
    GoldAmountUpdate goldAmountUpdate = 6;
  }
}